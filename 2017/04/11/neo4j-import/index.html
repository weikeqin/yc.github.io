<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 3.9.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"weikeqin.com","root":"/","scheme":"Mist","version":"7.8.0","exturl":false,"sidebar":{"position":"right","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"appID":"4MYO215Y0R","apiKey":"63ec2e526818df599ef4caa3c72f3459","indexName":"weikeqin","hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="1千万数据(数字 英文，没有中文)导入花费 27s 932ms  1千万数据(包含中文属性)导入花费 1m 50s 9ms  1.1亿数据(1.1亿节点 1.1亿关系 2.2亿属性) 15m 9s 37ms 温馨提示：  neo4j-import和neo4j-admin import虽然功能一样，但是参数还有很多区别，neo4j-import的参数更多一些，感觉用起来更方便。  不过官方会在以">
<meta name="keywords" content="neo4j">
<meta property="og:type" content="article">
<meta property="og:title" content="使用 官方 etl neo4j-import 导入 数据">
<meta property="og:url" content="http://weikeqin.com/2017/04/11/neo4j-import/index.html">
<meta property="og:site_name" content="沧海一粟">
<meta property="og:description" content="1千万数据(数字 英文，没有中文)导入花费 27s 932ms  1千万数据(包含中文属性)导入花费 1m 50s 9ms  1.1亿数据(1.1亿节点 1.1亿关系 2.2亿属性) 15m 9s 37ms 温馨提示：  neo4j-import和neo4j-admin import虽然功能一样，但是参数还有很多区别，neo4j-import的参数更多一些，感觉用起来更方便。  不过官方会在以">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2019-07-05T09:10:06.518Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="使用 官方 etl neo4j-import 导入 数据">
<meta name="twitter:description" content="1千万数据(数字 英文，没有中文)导入花费 27s 932ms  1千万数据(包含中文属性)导入花费 1m 50s 9ms  1.1亿数据(1.1亿节点 1.1亿关系 2.2亿属性) 15m 9s 37ms 温馨提示：  neo4j-import和neo4j-admin import虽然功能一样，但是参数还有很多区别，neo4j-import的参数更多一些，感觉用起来更方便。  不过官方会在以">

<link rel="canonical" href="http://weikeqin.com/2017/04/11/neo4j-import/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>使用 官方 etl neo4j-import 导入 数据 | 沧海一粟</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-113485469-1"></script>
    <script>
      if (CONFIG.hostname === location.hostname) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-113485469-1');
      }
    </script>


  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?d1ad0ae2a9976c44d556abc07cda1365";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">沧海一粟</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">天下事有难易乎？为之，则难者亦易矣；不为，则易者亦难矣。</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container"></div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="algolia-results">
  <div id="algolia-stats"></div>
  <div id="algolia-hits"></div>
  <div id="algolia-pagination" class="algolia-pagination"></div>
</div>

      
    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>

  <a href="https://github.com/weikeqin" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://weikeqin.com/2017/04/11/neo4j-import/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="WKQ">
      <meta itemprop="description" content="不积跬步无以至千里">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="沧海一粟">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          使用 官方 etl neo4j-import 导入 数据
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2017-04-11 22:33:04" itemprop="dateCreated datePublished" datetime="2017-04-11T22:33:04+08:00">2017-04-11</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2019-07-05 17:10:06" itemprop="dateModified" datetime="2019-07-05T17:10:06+08:00">2019-07-05</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/neo4j/" itemprop="url" rel="index"><span itemprop="name">neo4j</span></a>
                </span>
            </span>

          
            <span id="/2017/04/11/neo4j-import/" class="post-meta-item leancloud_visitors" data-flag-title="使用 官方 etl neo4j-import 导入 数据" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
            <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span id="busuanzi_value_page_pv"></span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>  1千万数据(数字 英文，没有中文)导入花费 27s 932ms<br>  1千万数据(包含中文属性)导入花费 1m 50s 9ms<br>  1.1亿数据(1.1亿节点 1.1亿关系 2.2亿属性) 15m 9s 37ms</p>
<p>温馨提示：<br>  neo4j-import和neo4j-admin import虽然功能一样，但是参数还有很多区别，neo4j-import的参数更多一些，感觉用起来更方便。<br>  不过官方会在以后的版本里用neo4j-admin import替掉nep4j-import</p>
<h1 id="2017-04-11-导入测试"><a href="#2017-04-11-导入测试" class="headerlink" title="2017-04-11 导入测试"></a>2017-04-11 导入测试</h1><!--
在测试前修改配置文件neo4j.conf
把所有的配置改成绝对路径，把调试的打开，把neo4j-shell配置打开
-->
<h1 id="1-linux导入1000w数据"><a href="#1-linux导入1000w数据" class="headerlink" title="(1) linux导入1000w数据"></a>(1) linux导入1000w数据</h1><p>  node.csv文件 数据样例<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">uuid:ID(Person),name:String,:Label</span><br><span class="line">2a3e275d9abc4c45913d8e7e619db87a,&quot;张忆耕&quot;,Label1</span><br><span class="line">db6ee76baff64db5956b6a5deb80acbf,&quot;傅某评&quot;,Label2</span><br><span class="line">8d2f4a74e7e7429390b3389d64d77637,&quot;王苏维&quot;,Label3</span><br><span class="line">4d0a5c3fa89a49e89f81a152f2aa259c,&quot;蓝波&quot;,Label4</span><br></pre></td></tr></table></figure></p>
<p>  relationship.csv文件 数据样例<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">:START_ID(Person),:END_ID(Person),:TYPE</span><br><span class="line">2a3e275d9abc4c45913d8e7e619db87a,db6ee76baff64db5956b6a5deb80acbf,Relationship1</span><br><span class="line">8d2f4a74e7e7429390b3389d64d77637,4d0a5c3fa89a49e89f81a152f2aa259c,Relationship2</span><br></pre></td></tr></table></figure></p>
<a id="more"></a>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line">[wkq@wkq bin]$ ./neo4j-import --into /home/wkq/neo4j/neo4j-community-3.1.0/data/databases/test_10000000_graph.db --nodes /home/wkq/neo4j/node.csv  --relationships /home/wkq/neo4j/relathionship.csv --trim-strings true --input-encoding UTF-8 --id-type INTEGER --stacktrace true --bad-tolerance 0 --skip-bad-relationships true --skip-duplicate-nodes false</span><br><span class="line">WARNING: neo4j-import is deprecated and support for it will be removed in a future</span><br><span class="line">version of Neo4j; please use neo4j-admin import instead.</span><br><span class="line"></span><br><span class="line">Neo4j version: 3.1.0</span><br><span class="line">Importing the contents of these files into /home/wkq/neo4j/neo4j-community-3.1.0/data/databases/test_10000000_graph.db:</span><br><span class="line">Nodes:</span><br><span class="line">  /home/wkq/neo4j/node.csv</span><br><span class="line">Relationships:</span><br><span class="line">  /home/wkq/neo4j/relathionship.csv</span><br><span class="line"></span><br><span class="line">Available resources:</span><br><span class="line">  Free machine memory: 28.05 GB</span><br><span class="line">  Max heap memory : 26.67 GB</span><br><span class="line">  Processors: 32</span><br><span class="line"></span><br><span class="line">Nodes</span><br><span class="line">[&gt;:23.85 MB/s-|PROPERTIES-----|NODE:68.66 MB---|LABEL SCAN-----|*v:41.50 MB/s-----------------]8.38M</span><br><span class="line">Done in 10s 106ms</span><br><span class="line">Prepare node index</span><br><span class="line">[*SPLIT:209.81 MB-----------------------------------------------------------------------------]9.67M</span><br><span class="line">Done in 2s 162ms</span><br><span class="line">Calculate dense nodes</span><br><span class="line">[&gt;:115.63 M|TYPE-----------|*PREPARE(32)========================|CALCULATE(2)=================] 5.5M</span><br><span class="line">Done in 2s 904ms</span><br><span class="line">Relationships [:Friend] (1/1)</span><br><span class="line">[&gt;:47.30 MB|*PREPARE(10)==================|RECORDS-|P|RELATIONSHIP----------|v:61.33 MB/s-----]5.63M</span><br><span class="line">Done in 4s 591ms</span><br><span class="line">Node --&gt; Relationship [:Friend] (1/1)</span><br><span class="line"></span><br><span class="line">Done in 10ms</span><br><span class="line">Relationship --&gt; Relationship [:Friend] (1/1)</span><br><span class="line">[&gt;:??----------------------------------|*LINK------------------------------------------------|]3.82M</span><br><span class="line">Done in 1s 605ms</span><br><span class="line">Node --&gt; Relationship Sparse</span><br><span class="line">[&gt;------------------------------------|LINK----|*v:140.00 MB/s--------------------------------]9.78M</span><br><span class="line">Done in 1s 65ms</span><br><span class="line">Relationship --&gt; Relationship Sparse</span><br><span class="line"></span><br><span class="line">Done in 1s 503ms</span><br><span class="line">Count groups</span><br><span class="line"></span><br><span class="line">Done in 10ms</span><br><span class="line">Gather</span><br><span class="line">[*&gt;:??----------------------------------------------------------------------------------------]    0</span><br><span class="line">Done in 1ms</span><br><span class="line">Write</span><br><span class="line"></span><br><span class="line">Done in 11ms</span><br><span class="line">Node --&gt; Group</span><br><span class="line"></span><br><span class="line">Done in 10ms</span><br><span class="line">Node counts</span><br><span class="line"></span><br><span class="line">Done in 938ms</span><br><span class="line">Relationship counts</span><br><span class="line"></span><br><span class="line">Done in 779ms</span><br><span class="line"></span><br><span class="line">IMPORT DONE in 27s 932ms.</span><br><span class="line">Imported:</span><br><span class="line">  10000000 nodes</span><br><span class="line">  10000000 relationships</span><br><span class="line">  20000000 properties</span><br><span class="line">Peak memory usage: 209.81 MB</span><br><span class="line">[wkq@wkq bin]$</span><br></pre></td></tr></table></figure>
<h1 id="2-windows导入3000条左右节点-仅节点"><a href="#2-windows导入3000条左右节点-仅节点" class="headerlink" title="(2) windows导入3000条左右节点(仅节点)"></a>(2) windows导入3000条左右节点(仅节点)</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">C:\ProfessionSofware\Neo4j\neo4j-community-3.1.2\bin&gt;neo4j-import --into test.db  --id-type string  --nodes:Test C:/User/wdb/2017-04-06_test.csv  --stacktrace truektrace true</span><br><span class="line">警告: This command does not appear to be running with administrative rights.  Some commands may fail e.g. Start/Stop</span><br><span class="line">WARNING: neo4j-import is deprecated and support for it will be removed in a future</span><br><span class="line">version of Neo4j; please use neo4j-admin import instead.</span><br><span class="line"></span><br><span class="line">Neo4j version: 3.1.2</span><br><span class="line">Importing the contents of these files into test.db:</span><br><span class="line">Nodes:</span><br><span class="line">  :Test</span><br><span class="line">  C:\User\wdb\2017-04-06_test.csv</span><br><span class="line"></span><br><span class="line">Available resources:</span><br><span class="line">  Free machine memory: 3.09 GB</span><br><span class="line">  Max heap memory : 1.77 GB</span><br><span class="line">  Processors: 4</span><br><span class="line"></span><br><span class="line">Nodes</span><br><span class="line"></span><br><span class="line">Done in 441ms</span><br><span class="line">Prepare node index</span><br><span class="line"></span><br><span class="line">Done in 30ms</span><br><span class="line">Calculate dense nodes</span><br><span class="line"></span><br><span class="line">Done in 11ms</span><br><span class="line">Node --&gt; Relationship Sparse</span><br><span class="line"></span><br><span class="line">Done in 11ms</span><br><span class="line">Relationship --&gt; Relationship Sparse</span><br><span class="line"></span><br><span class="line">Done in 1ms</span><br><span class="line">Count groups</span><br><span class="line">[*&gt;:??----------------------------------------------------------------------------------------]    0</span><br><span class="line">Done in 15ms</span><br><span class="line">Gather</span><br><span class="line"></span><br><span class="line">Done in 2ms</span><br><span class="line">Write</span><br><span class="line"></span><br><span class="line">Done in</span><br><span class="line">Node --&gt; Group</span><br><span class="line"></span><br><span class="line">Done in</span><br><span class="line">Node counts</span><br><span class="line"></span><br><span class="line">Done in 96ms</span><br><span class="line">Relationship counts</span><br><span class="line"></span><br><span class="line">Done in 3ms</span><br><span class="line"></span><br><span class="line">IMPORT DONE in 2s 234ms.</span><br><span class="line">Imported:</span><br><span class="line">  3466 nodes</span><br><span class="line">  0 relationships</span><br><span class="line">  17897 properties</span><br><span class="line">Peak memory usage: 33.85 kB</span><br><span class="line"></span><br><span class="line">C:\ProfessionSofware\Neo4j\neo4j-community-3.1.2\bin&gt;</span><br></pre></td></tr></table></figure>
<h1 id="3-windows导入10w数据-10万节点-10万关系"><a href="#3-windows导入10w数据-10万节点-10万关系" class="headerlink" title="(3) windows导入10w数据 (10万节点 10万关系)"></a>(3) windows导入10w数据 (10万节点 10万关系)</h1><p>  node.csv文件 数据样例<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">uuid:ID(Person),name:String,:Label</span><br><span class="line">2a3e275d9abc4c45913d8e7e619db87a,&quot;张忆耕&quot;,Label1</span><br><span class="line">db6ee76baff64db5956b6a5deb80acbf,&quot;傅某评&quot;,Label2</span><br><span class="line">8d2f4a74e7e7429390b3389d64d77637,&quot;王苏维&quot;,Label3</span><br><span class="line">4d0a5c3fa89a49e89f81a152f2aa259c,&quot;蓝波&quot;,Label4</span><br></pre></td></tr></table></figure></p>
<p>  relationship.csv文件 数据样例<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">:START_ID(Person),:END_ID(Person),:TYPE</span><br><span class="line">2a3e275d9abc4c45913d8e7e619db87a,db6ee76baff64db5956b6a5deb80acbf,Relationship1</span><br><span class="line">8d2f4a74e7e7429390b3389d64d77637,4d0a5c3fa89a49e89f81a152f2aa259c,Relationship2</span><br></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br></pre></td><td class="code"><pre><span class="line">D:\ProfessionalSoftWare\Neo4j\neo4j-community-3.4.1\bin</span><br><span class="line">λ neo4j-import --into D:/ProfessionalSoftWare/Neo4j/neo4j-community-3.4.1/data/databases/graph2.db --nodes D:/home/bonc/neo4j/node_uuid_10w.csv --relationships D:/home /bonc/neo4j/relathionship_uuid_10w.csv --trim-strings true --input-encoding UTF-8 --id-type String --stacktrace true --bad-tolerance 10000 --skip-bad-relationships true --skip-duplicate-nodes true</span><br><span class="line">警告: This command does not appear to be running with administrative rights.  Some commands may fail e.g. Start/Stop</span><br><span class="line">WARNING: neo4j-import is deprecated and support for it will be removed in a future</span><br><span class="line">version of Neo4j; please use neo4j-admin import instead.</span><br><span class="line">Neo4j version: 3.4.1</span><br><span class="line">Importing the contents of these files into D:\ProfessionalSoftWare\Neo4j\neo4j-community-3.4.1\data\databases\graph2.db:</span><br><span class="line">Nodes:</span><br><span class="line">  D:\home\bonc\neo4j\node_uuid_10w.csv</span><br><span class="line">Relationships:</span><br><span class="line">  D:\home\bonc\neo4j\relathionship_uuid_10w.csv</span><br><span class="line"></span><br><span class="line">Available resources:</span><br><span class="line">  Total machine memory: 7.95 GB</span><br><span class="line">  Free machine memory: 3.42 GB</span><br><span class="line">  Max heap memory : 1.77 GB</span><br><span class="line">  Processors: 4</span><br><span class="line">  Configured max memory: 5.56 GB</span><br><span class="line">  High-IO: false</span><br><span class="line"></span><br><span class="line">Import starting 2018-07-10 13:41:28.551+0800</span><br><span class="line">  Estimated number of nodes: 112.07 k</span><br><span class="line">  Estimated number of node properties: 224.14 k</span><br><span class="line">  Estimated number of relationships: 100.00 k</span><br><span class="line">  Estimated number of relationship properties: 0.00</span><br><span class="line">  Estimated disk space usage: 13.72 MB</span><br><span class="line">  Estimated required memory usage: 1021.42 MB</span><br><span class="line"></span><br><span class="line">InteractiveReporterInteractions command list (end with ENTER):</span><br><span class="line">  c: Print more detailed information about current stage</span><br><span class="line">  i: Print more detailed information</span><br><span class="line"></span><br><span class="line">(1/4) Node import 2018-07-10 13:41:28.669+0800</span><br><span class="line">  Estimated number of nodes: 112.07 k</span><br><span class="line">  Estimated disk space usage: 10.47 MB</span><br><span class="line">  Estimated required memory usage: 1021.42 MB</span><br><span class="line">.......... .......... .......... .......... .......... 5%</span><br><span class="line">.......... .......... .......... .......... .......... 10%</span><br><span class="line">.......... .......... .......... .......... .......... 15%</span><br><span class="line">.......... .......... .......... .......... .......... 20%</span><br><span class="line">.......... .......... .......... .......... .......... 25%</span><br><span class="line">.......... .......... .......... .......... .......... 30%</span><br><span class="line">.......... .......... .......... .......... .......... 35%</span><br><span class="line">.......... .......... .......... .......... .......... 40%</span><br><span class="line">.......... .......... .......... .......... .......... 45%</span><br><span class="line">.......... .......... .......... .......... .......... 50%</span><br><span class="line">.......... .......... .......... .......... .......... 55%</span><br><span class="line">.......... .......... .......... .......... .......... 60%</span><br><span class="line">.......... .......... .......... .......... .......... 65%</span><br><span class="line">.......... .......... .......... .......... .......... 70%</span><br><span class="line">.......... .......... .......... .......... .......... 75%</span><br><span class="line">.......... .......... .......... .......... .......... 80%</span><br><span class="line">.......... .......... .......... .......... .......... 85%</span><br><span class="line">.......... .......... .......... .......... .......... 90%</span><br><span class="line">.......... .......... .......... .......... .......... 95%</span><br><span class="line">.......... .......... .......... .......... .......... 100%</span><br><span class="line"></span><br><span class="line">(2/4) Relationship import 2018-07-10 13:41:30.376+0800</span><br><span class="line">  Estimated number of relationships: 100.00 k</span><br><span class="line">  Estimated disk space usage: 3.24 MB</span><br><span class="line">  Estimated required memory usage: 1.00 GB</span><br><span class="line">.......... .......... .......... .......... .......... 5%</span><br><span class="line">.......... .......... .......... .......... .......... 10%</span><br><span class="line">.......... .......... .......... .......... .......... 15%</span><br><span class="line">.......... .......... .......... .......... .......... 20%</span><br><span class="line">.......... .......... .......... .......... .......... 25%</span><br><span class="line">.......... .......... .......... .......... .......... 30%</span><br><span class="line">.......... .......... .......... .......... .......... 35%</span><br><span class="line">.......... .......... .......... .......... .......... 40%</span><br><span class="line">.......... .......... .......... .......... .......... 45%</span><br><span class="line">.......... .......... .......... .......... .......... 50%</span><br><span class="line">.......... .......... .......... .......... .......... 55%</span><br><span class="line">.......... .......... .......... .......... .......... 60%</span><br><span class="line">.......... .......... .......... .......... .......... 65%</span><br><span class="line">.......... .......... .......... .......... .......... 70%</span><br><span class="line">.......... .......... .......... .......... .......... 75%</span><br><span class="line">.......... .......... .......... .......... .......... 80%</span><br><span class="line">.......... .......... .......... .......... .......... 85%</span><br><span class="line">.......... .......... .......... .......... .......... 90%</span><br><span class="line">.......... .......... .......... .......... .......... 95%</span><br><span class="line">.......... .......... .......... .......... .......... 100%</span><br><span class="line"></span><br><span class="line">(3/4) Relationship linking 2018-07-10 13:41:30.787+0800</span><br><span class="line">  Estimated required memory usage: 1021.06 MB</span><br><span class="line">.......... .......... .......... .......... .......... 5%</span><br><span class="line">.......... .......... .......... .......... .......... 10%</span><br><span class="line">.......... .......... .......... .......... .......... 15%</span><br><span class="line">.......... .......... .......... .......... .......... 20%</span><br><span class="line">.......... .......... .......... .......... .......... 25%</span><br><span class="line">.......... .......... .......... .......... .......... 30%</span><br><span class="line">.......... .......... .......... .......... .......... 35%</span><br><span class="line">.......... .......... .......... .......... .......... 40%</span><br><span class="line">.......... .......... .......... .......... .......... 45%</span><br><span class="line">.......... .......... .......... .......... .......... 50%</span><br><span class="line">.......... .......... .......... .......... .......... 55%</span><br><span class="line">.......... .......... .......... .......... .......... 60%</span><br><span class="line">.......... .......... .......... .......... .......... 65%</span><br><span class="line">.......... .......... .......... .......... .......... 70%</span><br><span class="line">.......... .......... .......... .......... .......... 75%</span><br><span class="line">.......... .......... .......... .......... .......... 80%</span><br><span class="line">.......... .......... .......... .......... .......... 85%</span><br><span class="line">.......... .......... .......... .......... .......... 90%</span><br><span class="line">.......... .......... .......... .......... .......... 95%</span><br><span class="line">.......... .......... .......... .......... .......... 100%</span><br><span class="line"></span><br><span class="line">(4/4) Post processing 2018-07-10 13:41:31.445+0800</span><br><span class="line">  Estimated required memory usage: 1020.01 MB</span><br><span class="line">.......... .......... .......... .......... .......... 5%</span><br><span class="line">.......... .......... .......... .......... .......... 10%</span><br><span class="line">.......... .......... .......... .......... .......... 15%</span><br><span class="line">.......... .......... .......... .......... .......... 20%</span><br><span class="line">.......... .......... .......... .......... .......... 25%</span><br><span class="line">.......... .......... .......... .......... .......... 30%</span><br><span class="line">.......... .......... .......... .......... .......... 35%</span><br><span class="line">.......... .......... .......... .......... .......... 40%</span><br><span class="line">.......... .......... .......... .......... .......... 45%</span><br><span class="line">.......... .......... .......... .......... .......... 50%</span><br><span class="line">.......... .......... .......... .......... .......... 55%</span><br><span class="line">.......... .......... .......... .......... .......... 60%</span><br><span class="line">.......... .......... .......... .......... .......... 65%</span><br><span class="line">.......... .......... .......... .......... .......... 70%</span><br><span class="line">.......... .......... .......... .......... .......... 75%</span><br><span class="line">.......... .......... .......... .......... .......... 80%</span><br><span class="line">.......... .......... .......... .......... .......... 85%</span><br><span class="line">.......... .......... .......... .......... .......... 90%</span><br><span class="line">.......... .......... .......... .......... .......... 95%</span><br><span class="line">.......... .......... .......... .......... .......... 100%</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">IMPORT DONE in 4s 585ms.</span><br><span class="line">Imported:</span><br><span class="line">  100000 nodes</span><br><span class="line">  100000 relationships</span><br><span class="line">  200000 properties</span><br><span class="line">Peak memory usage: 1.00 GB</span><br></pre></td></tr></table></figure>
<h1 id="其他测试"><a href="#其他测试" class="headerlink" title="其他测试"></a>其他测试</h1><h2 id="如果使用相对路径，导入后数据库在bin目录下"><a href="#如果使用相对路径，导入后数据库在bin目录下" class="headerlink" title="如果使用相对路径，导入后数据库在bin目录下"></a>如果使用相对路径，导入后数据库在bin目录下</h2><p><code>neo4j-import --into test.db  --id-type string  --nodes:Test C:/User/wdb/2017-04-06_test.csv  --stacktrace truektrace true</code></p>
<h2 id="如果使用绝对路径，导入后数据库在指定目录下"><a href="#如果使用绝对路径，导入后数据库在指定目录下" class="headerlink" title="如果使用绝对路径，导入后数据库在指定目录下"></a>如果使用绝对路径，导入后数据库在指定目录下</h2><p><code>neo4j-import --into C:/ProfessionSofware/Neo4j/databases/test.db  --id-type string  --nodes:Test C:/User/wdb/2017-04-06_test.csv  --stacktrace truektrace true</code></p>
<h2 id="2018-04-26-试验"><a href="#2018-04-26-试验" class="headerlink" title="2018-04-26 试验"></a>2018-04-26 试验</h2><p>winbdows 小数据测试<br><code>neo4j-import --into C:/ProfessionSofware/Neo4j/neo4j-community-3.1.0/data/databases/test_graph.db --nodes C:/tmp/neo4j/node.csv  --relationships C:/tmp/neo4j/relathionship.csv --trim-strings true --input-encoding UTF-8 --id-type INTEGER --stacktrace true --bad-tolerance 0 --skip-bad-relationships true --skip-duplicate-nodes false</code></p>
<p>linux 实际导入1000w数据<br><code>neo4j-import --into /home/wkq/neo4j/neo4j-community-3.1.0/data/databases/test_10000000_graph.db --nodes /home/wkq/neo4j/node.csv  --relationships /home/wkq/neo4j/relathionship.csv --trim-strings true --input-encoding UTF-8 --id-type String --stacktrace true --bad-tolerance 0 --skip-bad-relationships true --skip-duplicate-nodes false</code></p>
<h1 id="遇到的错误"><a href="#遇到的错误" class="headerlink" title="遇到的错误"></a>遇到的错误</h1><h2 id="1-39-nodes-39-to-have-at-least-1-valid-item-but-had-0"><a href="#1-39-nodes-39-to-have-at-least-1-valid-item-but-had-0" class="headerlink" title="(1) &#39;--nodes&#39; to have at least 1 valid item, but had 0 []"></a>(1) <code>&#39;--nodes&#39; to have at least 1 valid item, but had 0 []</code></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">C:\ProfessionSofware\Neo4j\neo4j-community-3.1.2\bin&gt;neo4j-import -into test.db  --id-type string  --nodes [:Customer] customers.csv</span><br><span class="line">警告: This command does not appear to be running with administrative rights.  Some commands may fail e.g. Start/Stop</span><br><span class="line">WARNING: neo4j-import is deprecated and support for it will be removed in a future</span><br><span class="line">version of Neo4j; please use neo4j-admin import instead.</span><br><span class="line"></span><br><span class="line">Input error: Expected &apos;--nodes&apos; to have at least 1 valid item, but had 0 []</span><br><span class="line">Caused by:Expected &apos;--nodes&apos; to have at least 1 valid item, but had 0 []</span><br><span class="line">java.lang.IllegalArgumentException: Expected &apos;--nodes&apos; to have at least 1 valid item, but had 0 []</span><br><span class="line">        at org.neo4j.kernel.impl.util.Validators.lambda$atLeast$6(Validators.java:125)</span><br><span class="line">        at org.neo4j.helpers.Args.validated(Args.java:640)</span><br><span class="line">        at org.neo4j.helpers.Args.interpretOptionsWithMetadata(Args.java:608)</span><br><span class="line">        at org.neo4j.tooling.ImportTool.extractInputFiles(ImportTool.java:503)</span><br><span class="line">        at org.neo4j.tooling.ImportTool.main(ImportTool.java:388)</span><br><span class="line">        at org.neo4j.tooling.ImportTool.main(ImportTool.java:334)</span><br></pre></td></tr></table></figure>
<ol>
<li>文件头有问题，检查nodes.csv的文件头是否有<code>:ID</code>，relathionship.csv的文件头是否有 <code>:START_ID,:END_ID,:TYPE</code></li>
<li><code>--nodes</code> 后面的参数有问题，<code>--nodes</code> 直接跟 csv路径 或者 <code>:Label csv绝对路径</code></li>
<li>仔细检查路径，看路径是否写错，linux和windows路径统一用<code>/</code>作为目录</li>
</ol>
<h2 id="2-Error-in-input-data-ERROR-in-input"><a href="#2-Error-in-input-data-ERROR-in-input" class="headerlink" title="(2) Error in input data  ERROR in input"></a>(2) Error in input data  ERROR in input</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">C:\ProfessionSofware\Neo4j\neo4j-community-3.1.2\bin&gt;neo4j-import -into test.db  --id-type string  --nodes:Test C:/User/wdb/2017-04-06_test.csv  --stacktrace truektrace true  --skip-duplicate-nodes true</span><br><span class="line">警告: This command does not appear to be running with administrative rights.  Some commands may fail e.g. Start/Stop</span><br><span class="line">WARNING: neo4j-import is deprecated and support for it will be removed in a future</span><br><span class="line">version of Neo4j; please use neo4j-admin import instead.</span><br><span class="line"></span><br><span class="line">Neo4j version: 3.1.2</span><br><span class="line">Importing the contents of these files into test.db:</span><br><span class="line">Nodes:</span><br><span class="line">  :Test</span><br><span class="line">  C:\User\wdb\2017-04-06_test.csv</span><br><span class="line"></span><br><span class="line">Available resources:</span><br><span class="line">  Free machine memory: 3.74 GB</span><br><span class="line">  Max heap memory : 1.77 GB</span><br><span class="line">  Processors: 4</span><br><span class="line"></span><br><span class="line">Nodes</span><br><span class="line">Error in input data</span><br><span class="line">Caused by:ERROR in input</span><br><span class="line">  data source: BufferedCharSeeker[source:C:\User\wdb\2017-04-06_test.csv, position:654, line:11]</span><br><span class="line">  in field: mobile:int:6</span><br><span class="line">  for header: [dep:string, uid:int, name:string, tel:int, fax:string, mobile:int, email:string, id:string]</span><br><span class="line">  raw field value: 13900001234</span><br><span class="line">  original error: Not supported a.t.m</span><br></pre></td></tr></table></figure>
<p>csv文件的数据有问题，最后把tel的类型换成string解决了</p>
<h1 id="neo4j-import命令中的参数"><a href="#neo4j-import命令中的参数" class="headerlink" title="neo4j-import命令中的参数"></a>neo4j-import命令中的参数</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line">// 要导入的数据库存放位置，必须是空库</span><br><span class="line">--into &lt;store-dir&gt;</span><br><span class="line"></span><br><span class="line">// 要导入的数据库</span><br><span class="line">--database &lt;database-name&gt;</span><br><span class="line"></span><br><span class="line">// 节点文件，包含头和数据，第一个文件第一行必须是头，多个文件在逻辑上视为一个大文件，文件组必须用引号括起来</span><br><span class="line">--nodes[:Label1:Label2] &quot;&lt;file1&gt;,&lt;file2&gt;,...&quot;</span><br><span class="line"></span><br><span class="line">// 关系文件，包含头和数据，多个文件在逻辑上视为一个大文件，文件组必须用引号括起来</span><br><span class="line">--relationships[:RELATIONSHIP_TYPE] &quot;&lt;file1&gt;,&lt;file2&gt;,...&quot;</span><br><span class="line"></span><br><span class="line">// 数据分隔符，默认是逗号</span><br><span class="line">--delimiter &lt;delimiter-character&gt;</span><br><span class="line"></span><br><span class="line">// 数组分隔符，默认是分号</span><br><span class="line">--array-delimiter &lt;array-delimiter-character&gt;</span><br><span class="line"></span><br><span class="line">// 引用字符 注意转义</span><br><span class="line">--quote &lt;quotation-character&gt;</span><br><span class="line"></span><br><span class="line">// 输入源中的字段是否可以跨越多行，即包含换行符。默认值：false</span><br><span class="line">--multiline-fields &lt;true/false&gt;</span><br><span class="line"></span><br><span class="line">//  是否应该修剪空白字符串。默认值：false</span><br><span class="line">--trim-strings &lt;true/false&gt;</span><br><span class="line"></span><br><span class="line">// csv文件编码，推荐使用UTF-8</span><br><span class="line">--input-encoding &lt;character set&gt;</span><br><span class="line"></span><br><span class="line">// 忽略空字符串，默认是false</span><br><span class="line">--ignore-empty-strings &lt;true/false&gt;</span><br><span class="line"></span><br><span class="line">// id类型，integer string actual, integer会比较快，string比较通用</span><br><span class="line">--id-type &lt;id-type&gt;</span><br><span class="line"></span><br><span class="line">// 最大处理器数量，为了达到最佳性能，这个值不应该大于可用处理器的数量。</span><br><span class="line">--processors &lt;max processor count&gt;</span><br><span class="line"></span><br><span class="line">// 启用错误堆栈跟踪的打印。默认值：false</span><br><span class="line">--stacktrace &lt;true/false&gt;</span><br><span class="line"></span><br><span class="line">// 导入前的错误条目数被视为失败。这种宽容阈值是关于引用缺失节点的关系。格式化错误 输入数据仍被视为错误。默认值：1000</span><br><span class="line">--bad-tolerance &lt;max number of bad entries&gt;</span><br><span class="line"></span><br><span class="line">// 是否跳过导入缺少节点ID的关系，即引用未指定节点的开始或结束节点ID /组 由节点输入数据。跳过的节点将被记录，最多包含数字 由不良容忍指定的实体。默认值：true</span><br><span class="line">--skip-bad-relationships &lt;true/false&gt;</span><br><span class="line"></span><br><span class="line">// 是否跳过导入具有相同ID /组的节点。在事件中在同一组内的多个节点具有相同的ID，第一个遇到的将被导入，而连续的这样的节点将被跳过。跳过的节点将被记录，最多包含由指定的实体数量坏容忍。默认值：false</span><br><span class="line">--skip-duplicate-nodes &lt;true/false&gt;</span><br><span class="line"></span><br><span class="line">// 是否忽略未由标题指定的数据中的额外列。默认值：false</span><br><span class="line">--ignore-extra-columns &lt;true/false&gt;</span><br><span class="line"></span><br><span class="line">// 指定数据库特定配置的文件。</span><br><span class="line">--db-config</span><br><span class="line"></span><br><span class="line">// 指定数据库特定配置的文件</span><br><span class="line">--additional-config</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">// 页面大小（以字节为单位）</span><br><span class="line">--page-size</span><br><span class="line"></span><br><span class="line">Example:</span><br><span class="line">        bin/neo4j-import --into retail.db --id-type string --nodes:Customer customers.csv</span><br><span class="line">        --nodes products.csv --nodes orders_header.csv,orders1.csv,orders2.csv</span><br><span class="line">        --relationships:CONTAINS order_details.csv</span><br><span class="line">        --relationships:ORDERED customer_orders_header.csv,orders1.csv,orders2.csv</span><br></pre></td></tr></table></figure>
<h1 id="neo4j-3-1-2-neo4j-import-help"><a href="#neo4j-3-1-2-neo4j-import-help" class="headerlink" title="neo4j-3.1.2 neo4j-import help"></a>neo4j-3.1.2 neo4j-import help</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br></pre></td><td class="code"><pre><span class="line">C:\ProfessionSofware\Neo4j\neo4j-community-3.1.2\bin</span><br><span class="line">λ neo4j-import</span><br><span class="line">WARNING: neo4j-import is deprecated and support for it will be removed in a future</span><br><span class="line">version of Neo4j; please use neo4j-admin import instead.</span><br><span class="line"></span><br><span class="line">Neo4j Import Tool</span><br><span class="line">        neo4j-import is used to create a new Neo4j database from data in CSV files. See</span><br><span class="line">        the chapter &quot;Import Tool&quot; in the Neo4j Manual for details on the CSV file format</span><br><span class="line">        - a special kind of header is required.</span><br><span class="line">Usage:</span><br><span class="line">--into &lt;store-dir&gt;</span><br><span class="line">        Database directory to import into. Must not contain existing database.</span><br><span class="line">--database &lt;database-name&gt;</span><br><span class="line">        Database name to import into. Must not contain existing database.</span><br><span class="line">--nodes[:Label1:Label2] &quot;&lt;file1&gt;,&lt;file2&gt;,...&quot;</span><br><span class="line">        Node CSV header and data. Multiple files will be logically seen as one big file</span><br><span class="line">        from the perspective of the importer. The first line must contain the header.</span><br><span class="line">        Multiple data sources like these can be specified in one import, where each data</span><br><span class="line">        source has its own header. Note that file groups must be enclosed in quotation</span><br><span class="line">        marks.</span><br><span class="line">--relationships[:RELATIONSHIP_TYPE] &quot;&lt;file1&gt;,&lt;file2&gt;,...&quot;</span><br><span class="line">        Relationship CSV header and data. Multiple files will be logically seen as one</span><br><span class="line">        big file from the perspective of the importer. The first line must contain the</span><br><span class="line">        header. Multiple data sources like these can be specified in one import, where</span><br><span class="line">        each data source has its own header. Note that file groups must be enclosed in</span><br><span class="line">        quotation marks.</span><br><span class="line">--delimiter &lt;delimiter-character&gt;</span><br><span class="line">        Delimiter character, or &apos;TAB&apos;, between values in CSV data. The default option is</span><br><span class="line">        ,.</span><br><span class="line">--array-delimiter &lt;array-delimiter-character&gt;</span><br><span class="line">        Delimiter character, or &apos;TAB&apos;, between array elements within a value in CSV</span><br><span class="line">        data. The default option is ;.</span><br><span class="line">--quote &lt;quotation-character&gt;</span><br><span class="line">        Character to treat as quotation character for values in CSV data. The default</span><br><span class="line">        option is &quot;. Quotes inside quotes escaped like &quot;&quot;&quot;Go away&quot;&quot;, he said.&quot; and &quot;\&quot;Go</span><br><span class="line">        away\&quot;, he said.&quot; are supported. If you have set &quot;&apos;&quot; to be used as the quotation</span><br><span class="line">        character, you could write the previous example like this instead: &apos;&quot;Go away&quot;,</span><br><span class="line">        he said.&apos;</span><br><span class="line">--multiline-fields &lt;true/false&gt;</span><br><span class="line">        Whether or not fields from input source can span multiple lines, i.e. contain</span><br><span class="line">        newline characters. Default value: false</span><br><span class="line">--trim-strings &lt;true/false&gt;</span><br><span class="line">        Whether or not strings should be trimmed for whitespaces. Default value: false</span><br><span class="line">--input-encoding &lt;character set&gt;</span><br><span class="line">        Character set that input data is encoded in. Provided value must be one out of</span><br><span class="line">        the available character sets in the JVM, as provided by</span><br><span class="line">        Charset#availableCharsets(). If no input encoding is provided, the default</span><br><span class="line">        character set of the JVM will be used.</span><br><span class="line">--ignore-empty-strings &lt;true/false&gt;</span><br><span class="line">        Whether or not empty string fields, i.e. &quot;&quot; from input source are ignored, i.e.</span><br><span class="line">        treated as null. Default value: false</span><br><span class="line">--id-type &lt;id-type&gt;</span><br><span class="line">        One out of [STRING, INTEGER, ACTUAL] and specifies how ids in node/relationship</span><br><span class="line">        input files are treated.</span><br><span class="line">        STRING: arbitrary strings for identifying nodes.</span><br><span class="line">        INTEGER: arbitrary integer values for identifying nodes.</span><br><span class="line">        ACTUAL: (advanced) actual node ids. The default option is STRING. Default value:</span><br><span class="line">        STRING</span><br><span class="line">--processors &lt;max processor count&gt;</span><br><span class="line">        (advanced) Max number of processors used by the importer. Defaults to the number</span><br><span class="line">        of available processors reported by the JVM (in your case 4). There is a certain</span><br><span class="line">        amount of minimum threads needed so for that reason there is no lower bound for</span><br><span class="line">        this value. For optimal performance this value shouldn&apos;t be greater than the</span><br><span class="line">        number of available processors.</span><br><span class="line">--stacktrace &lt;true/false&gt;</span><br><span class="line">        Enable printing of error stack traces. Default value: false</span><br><span class="line">--bad-tolerance &lt;max number of bad entries&gt;</span><br><span class="line">        Number of bad entries before the import is considered failed. This tolerance</span><br><span class="line">        threshold is about relationships refering to missing nodes. Format errors in</span><br><span class="line">        input data are still treated as errors. Default value: 1000</span><br><span class="line">--skip-bad-relationships &lt;true/false&gt;</span><br><span class="line">        Whether or not to skip importing relationships that refers to missing node ids,</span><br><span class="line">        i.e. either start or end node id/group referring to node that wasn&apos;t specified</span><br><span class="line">        by the node input data. Skipped nodes will be logged, containing at most number</span><br><span class="line">        of entites specified by bad-tolerance. Default value: true</span><br><span class="line">--skip-duplicate-nodes &lt;true/false&gt;</span><br><span class="line">        Whether or not to skip importing nodes that have the same id/group. In the event</span><br><span class="line">        of multiple nodes within the same group having the same id, the first</span><br><span class="line">        encountered will be imported whereas consecutive such nodes will be skipped.</span><br><span class="line">        Skipped nodes will be logged, containing at most number of entities specified by</span><br><span class="line">        bad-tolerance. Default value: false</span><br><span class="line">--ignore-extra-columns &lt;true/false&gt;</span><br><span class="line">        Whether or not to ignore extra columns in the data not specified by the header.</span><br><span class="line">        Skipped columns will be logged, containing at most number of entities specified</span><br><span class="line">        by bad-tolerance. Default value: false</span><br><span class="line">--db-config &lt;path/to/neo4j.conf&gt;</span><br><span class="line">        (advanced) File specifying database-specific configuration. For more information</span><br><span class="line">        consult manual about available configuration options for a neo4j configuration</span><br><span class="line">        file. Only configuration affecting store at time of creation will be read.</span><br><span class="line">        Examples of supported config are:</span><br><span class="line">        dbms.relationship_grouping_threshold</span><br><span class="line">        unsupported.dbms.block_size.strings</span><br><span class="line">        unsupported.dbms.block_size.array_properties</span><br><span class="line">--additional-config &lt;path/to/neo4j.conf&gt;</span><br><span class="line">        (advanced) File specifying database-specific configuration. For more information</span><br><span class="line">        consult manual about available configuration options for a neo4j configuration</span><br><span class="line">        file. Only configuration affecting store at time of creation will be read.</span><br><span class="line">        Examples of supported config are:</span><br><span class="line">        dbms.relationship_grouping_threshold</span><br><span class="line">        unsupported.dbms.block_size.strings</span><br><span class="line">        unsupported.dbms.block_size.array_properties</span><br><span class="line">--legacy-style-quoting &lt;true/false&gt;</span><br><span class="line">        Whether or not backslash-escaped quote e.g. \&quot; is interpreted as inner quote.</span><br><span class="line">        Default value: true</span><br><span class="line">Example:</span><br><span class="line">        bin/neo4j-import --into retail.db --id-type string --nodes:Customer customers.csv</span><br><span class="line">        --nodes products.csv --nodes orders_header.csv,orders1.csv,orders2.csv</span><br><span class="line">        --relationships:CONTAINS order_details.csv</span><br><span class="line">        --relationships:ORDERED customer_orders_header.csv,orders1.csv,orders2.csv</span><br></pre></td></tr></table></figure>
<h1 id="官方文档-10-1-Import"><a href="#官方文档-10-1-Import" class="headerlink" title="官方文档 10.1. Import"></a>官方文档 10.1. Import</h1><p>This chapter covers importing data into Neo4j.</p>
<p>The import tool is used to create a new Neo4j database from data in CSV files.</p>
<p>This chapter explains how to use the tool and format the input data. For in-depth examples of using the import tool, see Section B.4, “Use the Import tool”.</p>
<p>These are some things you will need to keep in mind when creating your input files:</p>
<pre><code>Fields are comma separated by default but a different delimiter can be specified.
All files must use the same delimiter.
Multiple data sources can be used for both nodes and relationships.
A data source can optionally be provided using multiple files.
A header which provides information on the data fields must be on the first row of each data source.
Fields without corresponding information in the header will not be read.
UTF-8 encoding is used.
</code></pre><p>Indexes are not created during the import. Instead, you will need to add indexes afterwards (see Developer Manual → Indexes).</p>
<p>Data cannot be imported into an existing database using this tool. If you want to load small to medium sized CSV files use LOAD CSV (see Developer Manual → LOAD CSV).</p>
<p>10.1.1. CSV file header format</p>
<p>This section explains the header format of CSV files when using the Neo4j import tool.</p>
<p>The header row of each data source specifies how the fields should be interpreted. The same delimiter is used for the header row as for the rest of the data.</p>
<p>The header contains information for each field, with the format: <name>:&lt;field_type&gt;. The <name> is used as the property key for values, and ignored in other cases. The following &lt;field_type&gt; settings can be used for both nodes and relationships:</name></name></p>
<p>Property value<br>    Use one of int, long, float, double, boolean, byte, short, char, string to designate the data type. If no data type is given, this defaults to string. To define an array type, append [] to the type. By default, array values are separated by ;. A different delimiter can be specified with –array-delimiter.<br>IGNORE<br>    Ignore this field completely.</p>
<p>See below for the specifics of node and relationship data source headers.</p>
<p>10.1.1.1. Nodes</p>
<p>The following field types do additionally apply to node data sources:</p>
<p>ID<br>    Each node must have a unique id which is used during the import. The ids are used to find the correct nodes when creating relationships. Note that the id has to be unique across all nodes in the import, even nodes with different labels.<br>LABEL<br>    Read one or more labels from this field. Like array values, multiple labels are separated by ;, or by the character specified with –array-delimiter.</p>
<p>10.1.1.2. Relationships</p>
<p>For relationship data sources, there are three mandatory fields:</p>
<p>TYPE<br>    The relationship type to use for the relationship.<br>START_ID<br>    The id of the start node of the relationship to create.<br>END_ID<br>    The id of the end node of the relationship to create.</p>
<p>10.1.1.3. ID spaces</p>
<p>The import tool assumes that node identifiers are unique across node files. If this is not the case then we can define an id space. Id spaces are defined in the ID field of node files.</p>
<p>For example, to specify the Person id space we would use the field type ID(Person) in our persons node file. We also need to reference that id space in our relationships file i.e. START_ID(Person) or END_ID(Person).</p>
<p>10.1.2. Command line usage</p>
<p>This section covers how to use the Neo4j import tool from the command line.</p>
<p>10.1.2.1. Linux</p>
<p>Under Unix/Linux/OSX, the command is named neo4j-import. Depending on the installation type, the tool is either available globally, or used by executing ./bin/neo4j-import from inside the installation directory.<br>10.1.2.2. Windows</p>
<p>Under Windows, used by executing bin\neo4j-import from inside the installation directory.</p>
<p>For help with running the import tool under Windows, see the reference in Windows.<br>10.1.2.3. Options</p>
<p>–into <store-dir><br>    Database directory to import into. Must not contain existing database.</store-dir></p>
<p>–nodes[:Label1:Label2] “<file1>,<file2>,…​”<br>    Node CSV header and data. Multiple files will be logically seen as one big file from the perspective of the importer. The first line must contain the header. Multiple data sources like these can be specified in one import, where each data source has its own header. Note that file groups must be enclosed in quotation marks.</file2></file1></p>
<p>–relationships[:RELATIONSHIP_TYPE] “<file1>,<file2>,…​”<br>    Relationship CSV header and data. Multiple files will be logically seen as one big file from the perspective of the importer. The first line must contain the header. Multiple data sources like these can be specified in one import, where each data source has its own header. Note that file groups must be enclosed in quotation marks.</file2></file1></p>
<p>–delimiter <delimiter-character><br>    Delimiter character, or TAB, between values in CSV data. The default option is ,.</delimiter-character></p>
<p>–array-delimiter <array-delimiter-character><br>    Delimiter character, or TAB, between array elements within a value in CSV data. The default option is ;.</array-delimiter-character></p>
<p>–quote <quotation-character><br>    Character to treat as quotation character for values in CSV data. The default option is “. Quotes inside quotes escaped like “””Go away””, he said.” and “\”Go away\”, he said.” are supported. If you have set ‘ to be used as the quotation character, you could write the previous example like this instead: ‘“Go away”, he said.’</quotation-character></p>
<p>–multiline-fields &lt;true/false&gt;<br>    Whether or not fields from input source can span multiple lines, i.e. contain newline characters. Default value: false</p>
<p>–input-encoding <character set><br>    Character set that input data is encoded in. Provided value must be one out of the available character sets in the JVM, as provided by Charset#availableCharsets(). If no input encoding is provided, the default character set of the JVM will be used.</character></p>
<p>–ignore-empty-strings &lt;true/false&gt;<br>    Whether or not empty string fields (“”) from input source are ignored, i.e. treated as null. Default value: false</p>
<p>–id-type <id-type><br>    One out of [STRING, INTEGER, ACTUAL] and specifies how ids in node/relationship input files are treated. STRING: arbitrary strings for identifying nodes. INTEGER: arbitrary integer values for identifying nodes. ACTUAL: (advanced) actual node ids. Default value: STRING</id-type></p>
<p>–processors <max processor count><br>    (advanced) Max number of processors used by the importer. Defaults to the number of available processors reported by the JVM. There is a certain amount of minimum threads needed so for that reason there is no lower bound for this value. For optimal performance this value shouldn’t be greater than the number of available processors.</max></p>
<p>–stacktrace &lt;true/false&gt;<br>    Enable printing of error stack traces.</p>
<p>–bad-tolerance <max number of bad entries><br>    Number of bad entries before the import is considered failed. This tolerance threshold is about relationships referring to missing nodes. Format errors in input data are still treated as errors. Default value: 1000</max></p>
<p>–skip-bad-relationships &lt;true/false&gt;<br>    Whether or not to skip importing relationships that refers to missing node ids, i.e. either start or end node id/group referring to node that wasn’t specified by the node input data. Skipped nodes will be logged, containing at most number of entities specified by bad-tolerance. Default value: true</p>
<p>–skip-duplicate-nodes &lt;true/false&gt;<br>    Whether or not to skip importing nodes that have the same id/group. In the event of multiple nodes within the same group having the same id, the first encountered will be imported whereas consecutive such nodes will be skipped. Skipped nodes will be logged, containing at most number of entities specified by bad-tolerance. Default value: false</p>
<p>–ignore-extra-columns &lt;true/false&gt;<br>    Whether or not to ignore extra columns in the data not specified by the header. Skipped columns will be logged, containing at most number of entities specified by bad-tolerance. Default value: false</p>
<p>–db-config &lt;path/to/neo4j.conf&gt;</p>
<pre><code>(advanced) File specifying database-specific configuration. For more information consult manual about available configuration options for a neo4j configuration file. Only configuration affecting store at time of creation will be read. Examples of supported config are:

    dbms.relationship_grouping_threshold
    unsupported.dbms.block_size.strings
    unsupported.dbms.block_size.array_properties
</code></pre><p>10.1.2.4. Verbose error information</p>
<p>In some cases if an unexpected error occurs it might be useful to supply the command line option –stacktrace to the import (and rerun the import to actually see the additional information). This will have the error printed with additional debug information, useful for both developers and issue reporting.</p>
<p>10.1.2.5. Output and statistics</p>
<p>While an import is running through its different stages, some statistics and figures are printed in the console. The general interpretation of that output is to look at the horizontal line, which is divided up into sections, each section representing one type of work going on in parallel with the other sections. The wider a section is, the more time is spent there relative to the other sections, the widest being the bottleneck, also marked with *. If a section has a double line, instead of just a single line, it means that multiple threads are executing the work in that section. To the far right a number is displayed telling how many entities (nodes or relationships) have been processed by that stage.</p>
<p>As an example:</p>
<p>[*&gt;:20,25 MB/s——————|PREPARE(3)====================|RELATIONSHIP(2)===============] 16M</p>
<p>Would be interpreted as:</p>
<pre><code>&gt; data being read, and perhaps parsed, at 20,25 MB/s, data that is being passed on to …​
PREPARE preparing the data for …​
RELATIONSHIP creating actual relationship records and …​
v writing the relationships to the store. This step is not visible in this example, because it is so cheap compared to the other sections.
</code></pre><p>Observing the section sizes can give hints about where performance can be improved. In the example above, the bottleneck is the data read section (marked with &gt;), which might indicate that the disk is being slow, or is poorly handling simultaneous read and write operations (since the last section often revolves around writing to disk).</p>
<h1 id="References"><a href="#References" class="headerlink" title="References"></a>References</h1><p>[1] <a href="https://neo4j.com/developer/guide-import-csv/" target="_blank" rel="noopener">https://neo4j.com/developer/guide-import-csv/</a><br>[2] <a href="http://neo4j.com/docs/operations-manual/current/tools/import/" target="_blank" rel="noopener">http://neo4j.com/docs/operations-manual/current/tools/import/</a><br>[3] <a href="http://neo4j.com/docs/operations-manual/current/tools/import/command-line-usage/" target="_blank" rel="noopener">http://neo4j.com/docs/operations-manual/current/tools/import/command-line-usage/</a><br>[4] <a href="http://neo4j.com/docs/operations-manual/current/tutorial/import-tool/" target="_blank" rel="noopener">http://neo4j.com/docs/operations-manual/current/tutorial/import-tool/</a></p>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/neo4j/" rel="tag"># neo4j</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2017/04/11/neo4j-load-csv/" rel="prev" title="neo4j 使用 官方 ETL load-csv 导入 数据">
      <i class="fa fa-chevron-left"></i> neo4j 使用 官方 ETL load-csv 导入 数据
    </a></div>
      <div class="post-nav-item">
    <a href="/2017/04/14/java-arraylist-source-code-learning/" rel="next" title="Java 集合 ArrayList 源码 学习 (JDK-1.8)">
      Java 集合 ArrayList 源码 学习 (JDK-1.8) <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#2017-04-11-导入测试"><span class="nav-number">1.</span> <span class="nav-text">2017-04-11 导入测试</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#1-linux导入1000w数据"><span class="nav-number">2.</span> <span class="nav-text">(1) linux导入1000w数据</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#2-windows导入3000条左右节点-仅节点"><span class="nav-number">3.</span> <span class="nav-text">(2) windows导入3000条左右节点(仅节点)</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#3-windows导入10w数据-10万节点-10万关系"><span class="nav-number">4.</span> <span class="nav-text">(3) windows导入10w数据 (10万节点 10万关系)</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#其他测试"><span class="nav-number">5.</span> <span class="nav-text">其他测试</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#如果使用相对路径，导入后数据库在bin目录下"><span class="nav-number">5.1.</span> <span class="nav-text">如果使用相对路径，导入后数据库在bin目录下</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#如果使用绝对路径，导入后数据库在指定目录下"><span class="nav-number">5.2.</span> <span class="nav-text">如果使用绝对路径，导入后数据库在指定目录下</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2018-04-26-试验"><span class="nav-number">5.3.</span> <span class="nav-text">2018-04-26 试验</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#遇到的错误"><span class="nav-number">6.</span> <span class="nav-text">遇到的错误</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-39-nodes-39-to-have-at-least-1-valid-item-but-had-0"><span class="nav-number">6.1.</span> <span class="nav-text">(1) &#39;--nodes&#39; to have at least 1 valid item, but had 0 []</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-Error-in-input-data-ERROR-in-input"><span class="nav-number">6.2.</span> <span class="nav-text">(2) Error in input data  ERROR in input</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#neo4j-import命令中的参数"><span class="nav-number">7.</span> <span class="nav-text">neo4j-import命令中的参数</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#neo4j-3-1-2-neo4j-import-help"><span class="nav-number">8.</span> <span class="nav-text">neo4j-3.1.2 neo4j-import help</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#官方文档-10-1-Import"><span class="nav-number">9.</span> <span class="nav-text">官方文档 10.1. Import</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#References"><span class="nav-number">10.</span> <span class="nav-text">References</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">WKQ</p>
  <div class="site-description" itemprop="description">不积跬步无以至千里</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">172</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">42</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">101</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/weikeqin" title="GitHub → https://github.com/weikeqin" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:weikeqin.cn@gmail.com" title="E-Mail → mailto:weikeqin.cn@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://plus.google.com/u/0/107737814703120725006" title="Google → https://plus.google.com/u/0/107737814703120725006" rel="noopener" target="_blank"><i class="fab fa-google fa-fw"></i>Google</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://twitter.com/wkq278276130" title="Twitter → https://twitter.com/wkq278276130" rel="noopener" target="_blank"><i class="fab fa-twitter fa-fw"></i>Twitter</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.facebook.com/keqin.wei.5" title="FB Page → https://www.facebook.com/keqin.wei.5" rel="noopener" target="_blank"><i class="fab fa-facebook fa-fw"></i>FB Page</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://stackoverflow.com/users/8054088/wkq" title="StackOverflow → https://stackoverflow.com/users/8054088/wkq" rel="noopener" target="_blank"><i class="fab fa-stack-overflow fa-fw"></i>StackOverflow</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">WKQ</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://mist.theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Mist</a> 强力驱动
  </div>

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>
<script src="/js/utils.js"></script><script src="/js/motion.js"></script>
<script src="/js/schemes/muse.js"></script>
<script src="/js/next-boot.js"></script>



  
  <script>
    (function(){
      var canonicalURL, curProtocol;
      //Get the <link> tag
      var x=document.getElementsByTagName("link");
		//Find the last canonical URL
		if(x.length > 0){
			for (i=0;i<x.length;i++){
				if(x[i].rel.toLowerCase() == 'canonical' && x[i].href){
					canonicalURL=x[i].href;
				}
			}
		}
    //Get protocol
	    if (!canonicalURL){
	    	curProtocol = window.location.protocol.split(':')[0];
	    }
	    else{
	    	curProtocol = canonicalURL.split(':')[0];
	    }
      //Get current URL if the canonical URL does not exist
	    if (!canonicalURL) canonicalURL = window.location.href;
	    //Assign script content. Replace current URL with the canonical URL
      !function(){var e=/([http|https]:\/\/[a-zA-Z0-9\_\.]+\.baidu\.com)/gi,r=canonicalURL,t=document.referrer;if(!e.test(r)){var n=(String(curProtocol).toLowerCase() === 'https')?"https://sp0.baidu.com/9_Q4simg2RQJ8t7jm9iCKT-xh_/s.gif":"//api.share.baidu.com/s.gif";t?(n+="?r="+encodeURIComponent(document.referrer),r&&(n+="&l="+r)):r&&(n+="?l="+r);var i=new Image;i.src=n}}(window);})();
  </script>




  
<script src="//cdn.jsdelivr.net/npm/algoliasearch@4/dist/algoliasearch-lite.umd.js"></script>
<script src="//cdn.jsdelivr.net/npm/instantsearch.js@4/dist/instantsearch.production.min.js"></script><script src="/js/algolia-search.js"></script>













  

  

</body>
</html>
